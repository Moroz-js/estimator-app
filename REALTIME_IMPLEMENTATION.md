# Realtime Collaboration - –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

## ‚úÖ –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### 1. –ë–∞–∑–æ–≤–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞

**–¢–∏–ø—ã (`src/lib/types.ts`):**
- `PresencePayload` - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `RealtimeMessage` - —Ç–∏–ø—ã —Å–æ–æ–±—â–µ–Ω–∏–π –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
- –í—Å–µ —Ç–∏–ø—ã —Å–æ–±—ã—Ç–∏–π: create, update, delete, reorder

**–£—Ç–∏–ª–∏—Ç—ã (`src/lib/realtimeUtils.ts`):**
- `generateUserColor()` - –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ü–≤–µ—Ç –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `getInitials()` - –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –∏–Ω–∏—Ü–∏–∞–ª–æ–≤ –∏–∑ –∏–º–µ–Ω–∏/email
- `generateClientId()` - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π ID –≤–∫–ª–∞–¥–∫–∏

### 2. Realtime —Å–ª–æ–π

**–•—É–∫ `useProjectRealtime` (`src/lib/useProjectRealtime.ts`):**
- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Supabase Realtime –∫–∞–Ω–∞–ª—É
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ presence (–∫—Ç–æ –æ–Ω–ª–∞–π–Ω)
- –û—Ç–ø—Ä–∞–≤–∫–∞ –∏ –ø–æ–ª—É—á–µ–Ω–∏–µ broadcast —Å–æ–æ–±—â–µ–Ω–∏–π
- –†–µ–∫–æ–Ω–Ω–µ–∫—Ç —Å —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–º backoff
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Å–≤–æ–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –ø–æ clientId

**–û–±—Ä–∞–±–æ—Ç—á–∏–∫ –ø–∞—Ç—á–µ–π (`src/lib/realtimePatchHandler.ts`):**
- –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ remote –∏–∑–º–µ–Ω–µ–Ω–∏–π –∫ –ª–æ–∫–∞–ª—å–Ω–æ–º—É —Å–æ—Å—Ç–æ—è–Ω–∏—é
- –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –ø–æ timestamp
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –æ–ø–µ—Ä–∞—Ü–∏–π

**–ö–æ–Ω—Ç–µ–∫—Å—Ç `ProjectCollabProvider` (`src/components/ProjectCollabProvider.tsx`):**
- –û–±—ë—Ä—Ç–∫–∞ –Ω–∞–¥ useProjectRealtime
- –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –∫–∞—Ä—Ç editingByEpicId –∏ editingByTaskId
- –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ API —á–µ—Ä–µ–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç

### 3. UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

**UserAvatar (`src/components/UserAvatar.tsx`):**
- –ö—Ä—É–≥–ª—ã–π –∞–≤–∞—Ç–∞—Ä —Å –∏–Ω–∏—Ü–∏–∞–ª–∞–º–∏ –∏ —Ü–≤–µ—Ç–æ–º
- Tooltip —Å –∏–º–µ–Ω–µ–º/email
- UserAvatarGroup –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ "+N" –¥–ª—è —Å–∫—Ä—ã—Ç—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### 4. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ EstimatorApp

**–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ `EstimatorApp`:**
- –û–±—ë—Ä—Ç–∫–∞ setState –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö
- –û—Ç–ø—Ä–∞–≤–∫–∞ realtime –ø–∞—Ç—á–µ–π –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ ProjectMeta
- –ë–ª–æ–∫ "–°–µ–π—á–∞—Å –≤ –ø—Ä–æ–µ–∫—Ç–µ" —Å –∞–≤–∞—Ç–∞—Ä–∫–∞–º–∏ (–º–∞–∫—Å. 5)
- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä "‚ö†Ô∏è Offline" –ø—Ä–∏ –ø–æ—Ç–µ—Ä–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
- –ü–µ—Ä–µ–¥–∞—á–∞ editingByEpicId/editingByTaskId –≤ EpicEditor

### 5. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ EpicEditor

**–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ `EpicEditor`:**
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∞–≤–∞—Ç–∞—Ä–æ–∫ —Ä–µ–¥–∞–∫—Ç–∏—Ä—É—é—â–∏—Ö –≤ —ç–ø–∏–∫–∞—Ö
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∞–≤–∞—Ç–∞—Ä–æ–∫ —Ä–µ–¥–∞–∫—Ç–∏—Ä—É—é—â–∏—Ö –≤ –∑–∞–¥–∞—á–∞—Ö
- –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Ñ–æ–∫—É—Å–∞/–±–ª—é—Ä–∞ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è presence
- Debounce –¥–ª—è isTyping (2 —Å–µ–∫)
- –û—Ç–ø—Ä–∞–≤–∫–∞ –ø–∞—Ç—á–µ–π –ø—Ä–∏ –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö:
  - epic_create, epic_update, epic_delete, epic_reorder
  - task_create, task_update, task_delete, task_reorder

### 6. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –ø—Ä–æ–µ–∫—Ç–∞

**–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ `/project/[id]/page.tsx`:**
- –û–±—ë—Ä—Ç–∫–∞ EstimatorApp –≤ ProjectCollabProvider
- –û–±—Ä–∞–±–æ—Ç—á–∏–∫ remote –ø–∞—Ç—á–µ–π —Å –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º –∫ —Å–æ—Å—Ç–æ—è–Ω–∏—é
- Timestamps –¥–ª—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ (–≤ –ø–∞–º—è—Ç–∏)
- –ü–µ—Ä–µ–¥–∞—á–∞ callbacks –¥–ª—è –≤–Ω–µ—à–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è

## üéØ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ü—Ä–∏—Å—É—Ç—Å—Ç–≤–∏–µ (Presence)

1. –ü—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ –∫–∞–Ω–∞–ª—É `project:{projectId}`
2. –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–≤–æ–π presence —Å userId, email, color
3. –ü—Ä–∏ —Ñ–æ–∫—É—Å–µ –Ω–∞ –ø–æ–ª–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç currentEpicId/currentTaskId –∏ isTyping
4. –î—Ä—É–≥–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤–∏–¥—è—Ç –∞–≤–∞—Ç–∞—Ä–∫–∏ –≤ —ç–ø–∏–∫–∞—Ö/–∑–∞–¥–∞—á–∞—Ö

### –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ—Ç —ç–ø–∏–∫/–∑–∞–¥–∞—á—É
2. –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ (–æ–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω–æ)
3. –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è broadcast —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –ø–∞—Ç—á–µ–º
4. –î—Ä—É–≥–∏–µ –∫–ª–∏–µ–Ω—Ç—ã –ø–æ–ª—É—á–∞—é—Ç –ø–∞—Ç—á
5. –§–∏–ª—å—Ç—Ä—É—é—Ç —Å–≤–æ–∏ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ clientId
6. –ü—Ä–∏–º–µ–Ω—è—é—Ç –ø–∞—Ç—á —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π timestamp
7. –û–±–Ω–æ–≤–ª—è—é—Ç UI –±–µ–∑ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏

### –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤

- –ö–∞–∂–¥–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å–æ–¥–µ—Ä–∂–∏—Ç timestamp
- –ö–ª–∏–µ–Ω—Ç —Ö—Ä–∞–Ω–∏—Ç lastModified –¥–ª—è –∫–∞–∂–¥–æ–π —Å—É—â–Ω–æ—Å—Ç–∏ (–≤ –ø–∞–º—è—Ç–∏)
- –ü—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –ø–∞—Ç—á–∞ —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç timestamps
- –ï—Å–ª–∏ incoming.timestamp >= current ‚Üí –ø—Ä–∏–º–µ–Ω—è–µ—Ç
- –ò–Ω–∞—á–µ –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç (–ª–æ–∫–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è –Ω–æ–≤–µ–µ)
- –°—Ç—Ä–∞—Ç–µ–≥–∏—è: Last Write Wins

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
src/
‚îú‚îÄ‚îÄ lib/
‚îÇ   ‚îú‚îÄ‚îÄ types.ts                    # –¢–∏–ø—ã –¥–ª—è Realtime
‚îÇ   ‚îú‚îÄ‚îÄ realtimeUtils.ts            # –£—Ç–∏–ª–∏—Ç—ã (—Ü–≤–µ—Ç, –∏–Ω–∏—Ü–∏–∞–ª—ã)
‚îÇ   ‚îú‚îÄ‚îÄ useProjectRealtime.ts       # –•—É–∫ –¥–ª—è Realtime
‚îÇ   ‚îî‚îÄ‚îÄ realtimePatchHandler.ts     # –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –ø–∞—Ç—á–µ–π
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îú‚îÄ‚îÄ ProjectCollabProvider.tsx   # –ö–æ–Ω—Ç–µ–∫—Å—Ç Realtime
‚îÇ   ‚îú‚îÄ‚îÄ UserAvatar.tsx              # –ê–≤–∞—Ç–∞—Ä–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚îÇ   ‚îú‚îÄ‚îÄ EstimatorApp.tsx            # –û–±–Ω–æ–≤–ª—ë–Ω –¥–ª—è Realtime
‚îÇ   ‚îî‚îÄ‚îÄ EpicEditor.tsx              # –û–±–Ω–æ–≤–ª—ë–Ω –¥–ª—è Realtime
‚îî‚îÄ‚îÄ app/
    ‚îî‚îÄ‚îÄ project/[id]/page.tsx       # –û–±—ë—Ä—Ç–∫–∞ –≤ Provider
```

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### Supabase Realtime

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Realtime –≤–∫–ª—é—á–µ–Ω –≤ –≤–∞—à–µ–º Supabase –ø—Ä–æ–µ–∫—Ç–µ:
1. –û—Ç–∫—Ä–æ–π—Ç–µ Supabase Dashboard
2. Settings ‚Üí API
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ Realtime –≤–∫–ª—é—á–µ–Ω

### Environment Variables

–ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:
```env
NEXT_PUBLIC_SUPABASE_URL=...
NEXT_PUBLIC_SUPABASE_ANON_KEY=...
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –≤ –¥–≤—É—Ö –≤–∫–ª–∞–¥–∫–∞—Ö/–±—Ä–∞—É–∑–µ—Ä–∞—Ö
2. –í–æ–π–¥–∏—Ç–µ –ø–æ–¥ —Ä–∞–∑–Ω—ã–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
   - ‚úÖ –ë–ª–æ–∫ "–°–µ–π—á–∞—Å –≤ –ø—Ä–æ–µ–∫—Ç–µ" –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ–±–æ–∏—Ö
   - ‚úÖ –ü—Ä–∏ —Ñ–æ–∫—É—Å–µ –Ω–∞ –ø–æ–ª–µ –ø–æ—è–≤–ª—è—é—Ç—Å—è –∞–≤–∞—Ç–∞—Ä–∫–∏
   - ‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
   - ‚úÖ Drag & drop —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç—Å—è
   - ‚úÖ –ü—Ä–∏ –ø–æ—Ç–µ—Ä–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –ø–æ—è–≤–ª—è–µ—Ç—Å—è "‚ö†Ô∏è Offline"

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤

1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –≤ –¥–≤—É—Ö –≤–∫–ª–∞–¥–∫–∞—Ö
2. –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –æ–¥–Ω—É –∑–∞–¥–∞—á—É –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–æ–±–µ–∂–¥–∞–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–µ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ

## üöÄ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- Realtime —Å–æ–æ–±—â–µ–Ω–∏—è –º–∏–Ω–∏–º–∞–ª—å–Ω—ã (—Ç–æ–ª—å–∫–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è)
- Timestamps —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –ø–∞–º—è—Ç–∏ (–Ω–µ –≤ –ë–î)
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Å–≤–æ–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –ø–æ clientId
- Debounce –¥–ª—è isTyping (2 —Å–µ–∫)
- –†–µ–∫–æ–Ω–Ω–µ–∫—Ç —Å —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–º backoff

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∫–∞–Ω–∞–ª—É —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞
- WebSocket –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–æ—Ç –∂–µ JWT —á—Ç–æ –∏ API
- –ù–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –Ω–µ –º–æ–≥—É—Ç –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è
- UUID –ø—Ä–æ–µ–∫—Ç–∞ —Å–ª–æ–∂–Ω–æ —É–≥–∞–¥–∞—Ç—å

## üìù –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

1. **–ù–µ—Ç –∞–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –Ω–∞–∂–∞—Ç—å "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å"
2. **–ù–µ—Ç –∏—Å—Ç–æ—Ä–∏–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π** - –Ω–µ–ª—å–∑—è –æ—Ç–∫–∞—Ç–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
3. **–ù–µ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –ø–æ–ª–µ–π** - –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ
4. **–ù–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π** - –Ω–µ—Ç "X joined/left"
5. **–¢–æ–ª—å–∫–æ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è** - preview –±–µ–∑ realtime

## üêõ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### –ú–µ—Ä—Ü–∞–Ω–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ "Offline"
**–ü—Ä–æ–±–ª–µ–º–∞:** –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä "–°–µ–π—á–∞—Å –≤ –ø—Ä–æ–µ–∫—Ç–µ" / "Offline" –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –¥–µ—Ä–≥–∞–ª—Å—è

**–†–µ—à–µ–Ω–∏–µ:**
1. –î–æ–±–∞–≤–ª–µ–Ω debounce –¥–ª—è `isConnected` (1 —Å–µ–∫ –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è, 2 —Å–µ–∫ –¥–ª—è –æ—Ç–∫–ª—é—á–µ–Ω–∏—è)
2. –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä "Offline" –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –Ω–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ presence
3. –£–ª—É—á—à–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

### –û—à–∏–±–∫–∞ "Rendered more hooks"
**–ü—Ä–æ–±–ª–µ–º–∞:** "Rendered more hooks than during the previous render"

**–†–µ—à–µ–Ω–∏–µ:** –ü–µ—Ä–µ–º–µ—Å—Ç–∏–ª –≤—Å–µ —Ö—É–∫–∏ –≤ –Ω–∞—á–∞–ª–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞, –¥–æ —É—Å–ª–æ–≤–Ω—ã—Ö return'–æ–≤

## üéØ –ß—Ç–æ –¥–∞–ª—å—à–µ

–í–æ–∑–º–æ–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:
- [ ] –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å debounce
- [ ] –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π (undo/redo)
- [ ] –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏/–æ—Ç–∫–ª—é—á–µ–Ω–∏–∏
- [ ] –°—á—ë—Ç—á–∏–∫ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤ –Ω–∞ preview
- [ ] –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø–æ–ª–µ–π (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- [ ] –ö—É—Ä—Å–æ—Ä—ã –¥—Ä—É–≥–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- [ ] –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

---

**–í–µ—Ä—Å–∏—è:** 1.2  
**–î–∞—Ç–∞:** 21 –Ω–æ—è–±—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
